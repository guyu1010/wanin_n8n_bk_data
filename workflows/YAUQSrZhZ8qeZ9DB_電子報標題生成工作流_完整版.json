{
  "createdAt": "2025-10-31T06:19:56.886Z",
  "updatedAt": "2025-11-04T07:59:19.000Z",
  "id": "YAUQSrZhZ8qeZ9DB",
  "name": "é›»å­å ±æ¨™é¡Œç”Ÿæˆå·¥ä½œæµ_å®Œæ•´ç‰ˆ",
  "active": false,
  "isArchived": true,
  "nodes": [
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "init-loop",
              "name": "loop_retries",
              "value": 0,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1104,
        96
      ],
      "id": "f6da6624-3f24-4747-9d80-2e0460fb5f37",
      "name": "åˆå§‹åŒ–è¨ˆæ•¸"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„é›»å­å ±ç·¨è¼¯ã€‚è«‹æ ¹æ“šä»¥ä¸‹5å‰‡æ–°èï¼Œç”Ÿæˆé›»å­å ±æ¨™é¡Œï¼š\n\næ–°èå…§å®¹ï¼š\n1. {{ $('Webhook1').item.json.body[0].title }} - {{ $('Webhook1').item.json.body[0].content }}\n2. {{ $('Webhook1').item.json.body[1].title }} - {{ $('Webhook1').item.json.body[1].content }}\n3. {{ $('Webhook1').item.json.body[2].title }} - {{ $('Webhook1').item.json.body[2].content }}\n4. {{ $('Webhook1').item.json.body[3].title }} - {{ $('Webhook1').item.json.body[3].content }}\n5. {{ $('Webhook1').item.json.body[4].title }} - {{ $('Webhook1').item.json.body[4].content }}\n\næ‘˜è¦æ¢ä»¶æ©Ÿåˆ¶\n1. ä¸å› ç‚ºæ¨™é»ç¬¦è™Ÿè€Œæ–·ç« å–ç¾©\n2. å¸ç›ä½†ä¸æ¨™é¡Œæ®ºäºº\n3. å°‡æ•¸å­—ã€äººåã€åœ°ååŠ å…¥æ¨™é¡Œå¢åŠ å°è±¡\n4. å–„ç”¨å•è™Ÿå¤¾å¸¶æ‡¸ç–‘æ°›åœ\n5. è«‹ä¸€å¾‹ä½¿ç”¨inputæä¾›çš„å…§å®¹ï¼Œä¸èƒ½è‡ªå·±ç”Ÿæˆ\n6. åŒä¸€å€‹æ‘˜è¦çš„å…©å¥è©±å¯ä»¥ç”¨ç©ºæ ¼éš”é–‹å³å¯\n\nä»»å‹™è¦æ±‚ï¼š\n1. ã€å¿…é¸ã€‘ä½¿ç”¨ç¬¬ä¸€å‰‡æ–°èä½œç‚ºç¬¬ä¸€å€‹æ‘˜è¦\n2. å¾ç¬¬äºŒ~äº”å‰‡æ–°èä¸­ï¼ŒæŒ‘é¸æœ€å…·æ–°èåƒ¹å€¼æˆ–æœ€å¸ç›çš„ä¸€å‰‡ä½œç‚ºç¬¬äºŒå€‹æ‘˜è¦\n3. æ¯å€‹æ‘˜è¦ç²¾ç°¡åˆ°10-15å­—\n4. å…©å€‹æ‘˜è¦åˆè¨ˆ20-30å­—\n5. è¼¸å‡ºæ ¼å¼ï¼šâ—{ç¬¬ä¸€å‰‡æ‘˜è¦} â—{ç¬¬äºŒå‰‡æ‘˜è¦}\n\nå¥å‹ç¯„ä¾‹ï¼š\nâ—æ³¨æ„ï¼æ™®ç™¼ç¾é‡‘ä¸€è¬ 464è¬äººé€™å¤©ç›´æ¥å…¥å¸³ â—ä¸­çç™¼ç¥¨ç³Šæ‰çé‡‘é£›æ‰ï¼Ÿ\nâ—200ã€2000å…ƒè©²ç¹¼çºŒç™¼è¡Œï¼Ÿè¶…é6æˆæ–é ­äº† â—è¼é”ç¸½éƒ¨ç¢ºå®šè½è§’åŒ—å¸‚ï¼\nâ—æ©Ÿè»Šé‘°åŒ™å¿˜äº†æ‹”ï¼Ÿç¶²å‹å¤§è®šï¼šè¬è¬å¥½å¿ƒäºº â—ä»¥å“ˆåœç«å†ç ´è£‚ æ–°ä¸€è¼ªç©ºè¥²é‡€20æ­»\n\n**è«‹ä»¥ä¸‹é¢JSONæ ¼å¼ç›´æ¥è¼¸å‡ºä¸€å€‹titleï¼š**\n```json\n{\n  \"title\": \"ä½ çš„é›»å­å ±æ¨™é¡Œ\"\n}\n",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -896,
        96
      ],
      "id": "a8aaa20f-1885-4484-b801-b930104f8a28",
      "name": "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -896,
        320
      ],
      "id": "1f1b460b-aed7-4630-b0fa-ce0bd21504bf",
      "name": "Gemini Chat Model (ç”¢ç”Ÿ)",
      "credentials": {
        "googlePalmApi": {
          "id": "EQaOvDML3qAkESKf",
          "name": "Google Gemini(PaLM) Api account 10"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n\t\"title\": \"é›»å­å ±æ¨™é¡Œ\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -768,
        336
      ],
      "id": "3f6f4dba-1262-449d-8bbd-cf66a77d73d4",
      "name": "Output Parser (ç”¢ç”Ÿ)"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„æ¨™é¡Œå“è³ªå¯©æŸ¥å°ˆå®¶ã€‚è«‹ä»”ç´°è©•ä¼°AIç”Ÿæˆçš„æ•´åˆæ¨™é¡Œå“è³ªã€‚\n\n## è¼¸å…¥è³‡æ–™\n- **ç”Ÿæˆçš„æ•´åˆæ¨™é¡Œ**:{{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}\n- **åƒè€ƒå¥å‹ç¯„ä¾‹(ä¸åƒè€ƒå…§å®¹)**: \n  1. \"â—è¼•é¢±æ¥ŠæŸ³æç›´æ’²åŒ—å°ç£ï¼Ÿ â—é„§æ„·å¨å¥ªå¤§è¯ç›Ÿé¦–å‹æ„Ÿè¨€æ›\"\n  2. \"â—é‚±è­°ç‘©é§å°è³´é…ï¼Ÿ â—è³´ç‘éš†å¤§æ—è’²é·æ‘2027å•Ÿå‹•ï¼\"\n  3. \"â—æ¥ŠæŸ³é¢±é¢¨ææˆã€Œå¼·é¢±ã€ï¼Ÿ â—å·æ™®ã€æ™®ä¸å¯†æœƒï¼Œæ¾¤å€«æ–¯åŸºæœƒè¢«çŠ§ç‰²å—ï¼Ÿ\"\n  4. \"â—æ›¾éº—ç‡•é­åˆ¤12å¹´è©²é‚„å¸æ³•å…¬é“ï¼Ÿ â—å·æ™®æœƒæ™®ä¸è«‡åœæˆ°ï¼Œä¿„çƒçœŸçš„æœƒåœç«å—ï¼Ÿ\"\n\n## å¯©æŸ¥ä»»å‹™\nè«‹é€²è¡Œä»¥ä¸‹ä¸‰é …æ¯”è¼ƒåˆ†æï¼š\n\n### 1. èˆ‡åƒè€ƒå¥å‹çš„ç›¸ä¼¼åº¦åˆ†æ(ä¸åƒè€ƒå…§å®¹)\nå°ç…§ä»¥ä¸‹æ–°èæ¨™é¡Œæ ¼å¼ç¯„ä¾‹ï¼š\n- \"â—è¼•é¢±æ¥ŠæŸ³æç›´æ’²åŒ—å°ç£ï¼Ÿ â—é„§æ„·å¨å¥ªå¤§è¯ç›Ÿé¦–å‹æ„Ÿè¨€æ›\"\n- \"â—é‚±è­°ç‘©é§å°è³´é…ï¼Ÿâ—è³´ç‘éš†å¤§æ—è’²é·æ‘2027å•Ÿå‹•ï¼\"\n- \"â—æ›¾éº—ç‡•é­åˆ¤12å¹´è©²é‚„å¸æ³•å…¬é“ï¼Ÿâ—å·æ™®æœƒæ™®ä¸è«‡åœæˆ°ï¼Œä¿„çƒçœŸçš„æœƒåœç«å—ï¼Ÿ\"\n\nè©•åˆ†é …ç›®ï¼š\n- çµæ§‹ç›¸ä¼¼åº¦ï¼šèˆ‡åƒè€ƒå¥å‹çš„ç›¸ä¼¼åº¦(å¯èƒ½åŒ…å«å•è™Ÿã€é©šå˜†è™Ÿã€ç©ºæ ¼) (0-20åˆ†)\n- è¡¨é”æ–¹å¼ç¬¦åˆåº¦ï¼šèªæ°£å’Œç”¨è©æ˜¯å¦ç¬¦åˆæ–°èæ¨™é¡Œé¢¨æ ¼ (0-15åˆ†)\n- å°ˆæ¥­åº¦åŒ¹é…ï¼šæ˜¯å¦å…·å‚™æ–°èå°ˆæ¥­æ€§å’Œå¯ä¿¡åº¦ (0-20åˆ†)\n\n### 2. æ•´é«”å“è³ªè©•ä¼°\n- èªè¨€æµæš¢åº¦ (0-10åˆ†)\n- å¸å¼•åŠ›ï¼šæ˜¯å¦è®“è®€è€…çœ‹åˆ°æ¨™é¡Œæœƒç”¢ç”Ÿå¥½å¥‡å¿ƒã€è³å‹•æ€§æˆ–æ˜¯åŒ…å«åœ°åã€äººåã€æ•¸å­—...ç­‰(0-20åˆ†)\n\n### 3. å…§å®¹å“è³ªè©•ä¼°\n- æ•´åˆçš„æ¨™é¡Œæœ‰ç¬¦åˆå…§{{ $('å½™æ•´è³‡æ–™').item.json.all_contents_full }}ä»»å…©å‰‡æ–°èï¼Œå¦‚æœä¸æ˜¯è£¡é¢çš„æ–°èè«‹ç›´æ¥çµ¦0åˆ† (0-15åˆ†)\n\n## è©•åˆ†æ¨™æº–\n**ç¸½åˆ†è¨ˆç®—**: å„é …åˆ†æ•¸ç›¸åŠ ï¼Œæ»¿åˆ†100åˆ†\n**é€šéé–€æª»**: çµæ§‹ç›¸ä¼¼åº¦>=10åˆ†ï¼Œå¸å¼•åŠ›åˆ†æ•¸>=10åˆ†ï¼Œå…¶é¤˜ç¸½åˆ†>=50åˆ†\n\n## è¼¸å‡ºæ ¼å¼\nè«‹æŒ‰ä»¥ä¸‹JSONæ ¼å¼å›æ‡‰ï¼š\n\n```json\n{\n  \"scores\": {\n    \"structure_similarity\": XX,      // çµæ§‹ç›¸ä¼¼åº¦ï¼šæ˜¯å¦æ¡ç”¨ã€Œå•å¥ã€ç©ºæ ¼ã€çš„æ ¼å¼ (0-20åˆ†)\n    \"expression_match\": XX,          // è¡¨é”æ–¹å¼ç¬¦åˆåº¦ï¼šèªæ°£å’Œç”¨è©æ˜¯å¦ç¬¦åˆæ–°èæ¨™é¡Œé¢¨æ ¼ (0-20åˆ†)\n    \"professionalism\": XX,           // å°ˆæ¥­åº¦åŒ¹é…ï¼šæ˜¯å¦å…·å‚™æ–°èå°ˆæ¥­æ€§å’Œå¯ä¿¡åº¦ (0-15åˆ†)\n    \"fluency\": XX,                   // èªè¨€æµæš¢åº¦ (0-10åˆ†)\n    \"attractiveness\": XX,            // å¸å¼•åŠ›ï¼šæ˜¯å¦è®“è®€è€…çœ‹åˆ°æ¨™é¡Œæœƒç”¢ç”Ÿå¥½å¥‡å¿ƒ (0-20åˆ†)\n    \"content_quality\": XX            // å…§å®¹å“è³ªè©•ä¼°ï¼šæ•´åˆçš„æ¨™é¡Œæœ‰ç¬¦åˆä»»å…©å€‹æ–°èï¼Œä½†ä¸è€ƒæ…®æ”¾åœ¨ä¸€èµ·æ˜¯å¦æœ‰é‚è¼¯é—œè¯ (0-15åˆ†)\n  },\n  \"total_score\": XX,                 // ç¸½åˆ† (æ»¿åˆ†100åˆ†)\n  \"structure_score\": XX,             // çµæ§‹ç›¸ä¼¼åº¦åˆ†æ•¸ (ç”¨æ–¼åˆ¤æ–·æ˜¯å¦>=10åˆ†)\n  \"attractiveness_score\": XX,        // å¸å¼•åŠ›åˆ†æ•¸ (ç”¨æ–¼åˆ¤æ–·æ˜¯å¦>=10åˆ†)\n  \"other_scores_total\": XX,          // å…¶ä»–åˆ†æ•¸ç¸½å’Œ (ç”¨æ–¼åˆ¤æ–·æ˜¯å¦>50åˆ†)\n  \"passed\": true/false,              // é€šéæ¨™æº–ï¼šçµæ§‹ç›¸ä¼¼åº¦>=10åˆ† ä¸” å¸å¼•åŠ›åˆ†æ•¸>= 10åˆ† ä¸”å…§å®¹å“è³ªè©•ä¼°>= 10 ä¸”å…¶ä»–(è¡¨é”æ–¹å¼ç¬¦åˆåº¦ + å°ˆæ¥­åº¦åŒ¹é… + èªè¨€æµæš¢åº¦)>=35åˆ†\n  \"pass_criteria\": {\n    \"structure_passed\": true/false,  // çµæ§‹åˆ†æ•¸æ˜¯å¦>=10åˆ†\n    \"attractiveness\": true/false, // å¸å¼•åŠ›åˆ†æ•¸æ˜¯å¦>=10åˆ†\n    \"content_quality\": true/false, // å…¶å…§å®¹å“è³ªè©•ä¼°æ˜¯å¦>=10åˆ†\n    \"other_scores_passed\": true/false // å…¶ä»–åˆ†æ•¸ç¸½å’Œæ˜¯å¦>35åˆ†\n  },\n  \"confidence_level\": \"high/medium/low\" // é©åˆç•¶æœ¬æ¬¡é›»å­å ±æ¨™é¡Œçš„ä¿¡å¿ƒç¨‹åº¦\n\n} \n\n\n## é€šéé‚è¼¯åˆ¤æ–·\n1. æª¢æŸ¥ structure_similarity æ˜¯å¦ >= 10åˆ†\n2. æª¢æŸ¥ (expression_match + professionalism + fluency ) æ˜¯å¦ >= 35åˆ†\n3. æª¢æŸ¥ content_quality æ˜¯å¦ >= 10åˆ†\n4. æª¢æŸ¥ attractiveness æ˜¯å¦ >= 10åˆ†\n5. æª¢æŸ¥'{{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}'å­—æ•¸23~30å€‹ç¹é«”ä¸­æ–‡\n6. **é‡è¦**ï¼šå¦‚æœæ‰€æœ‰æ¢ä»¶éƒ½æ˜¯trueï¼Œpassedå¿…é ˆè¨­ç‚ºtrueï¼\n\nè«‹ç¢ºä¿é‚è¼¯æ­£ç¢ºï¼",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "è«‹ä¸€å¾‹ä½¿ç”¨ä»¥ä¸‹æ ¼å¼å›è¦†\n{\n  \"scores\": {\n    \"structure_similarity\": 10,\n    \"expression_match\": 12,\n    \"professionalism\": 10,\n    \"fluency\": 10,\n    \"attractiveness\": 10,\n    \"content_quality\": 10\n  },\n  \"total_score\": 87,\n  \"structure_score\": 85,\n  \"other_scores_total\": 42,\n  \"passed\": true,\n  \"pass_criteria\": {\n    \"structure_passed\": true,\n    \"attractiveness\": true,\n    \"content_quality\": true,\n    \"other_scores_passed\": true,\n    \"overall_passed\": true\n  },\n  \"confidence_level\": \"high\"\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -640,
        96
      ],
      "id": "be9a415f-7327-4c8e-a184-b85660c812ca",
      "name": "é©—è­‰æ¨™é¡Œå“è³ª"
    },
    {
      "parameters": {
        "options": {
          "maxOutputTokens": 5000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -624,
        336
      ],
      "id": "a297fc93-2f99-4315-816b-a11ddeb65abc",
      "name": "Gemini Chat Model (é©—è­‰)",
      "credentials": {
        "googlePalmApi": {
          "id": "EQaOvDML3qAkESKf",
          "name": "Google Gemini(PaLM) Api account 10"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"scores\": {\n    \"structure_similarity\": 10,\n    \"expression_match\": 12,\n    \"professionalism\": 10,\n    \"fluency\": 10,\n    \"attractiveness\": 10,\n    \"content_quality\": 10\n  },\n  \"total_score\": 87,\n  \"structure_score\": 85,\n  \"other_scores_total\": 42,\n  \"passed\": true,\n  \"pass_criteria\": {\n    \"structure_passed\": true,\n    \"attractiveness\": true,\n    \"content_quality\": true,\n    \"other_scores_passed\": true\n  },\n  \"confidence_level\": \"high\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -480,
        336
      ],
      "id": "42fcbde0-4939-4542-ba6f-b351b26b3885",
      "name": "Output Parser (é©—è­‰)"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "restore-loop",
              "name": "loop_retries",
              "value": "={{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.loop_retries || 0 }}",
              "type": "number"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -368,
        96
      ],
      "id": "eef4284b-1719-4154-9ebe-cba7e5bae55a",
      "name": "åˆä½µè³‡æ–™"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.output.passed }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "id": "passed-condition"
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -224,
        96
      ],
      "id": "2d26f435-b904-43bf-859a-fedf4fec28bf",
      "name": "æ¨™é¡Œæ˜¯å¦é€šé"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "increment-loop",
              "name": "loop_retries",
              "value": "={{ ($item(0).$json.loop_retries ?? 0) + 1 }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        0,
        192
      ],
      "id": "9cc0dd71-8379-4070-bda6-46acf1265eb5",
      "name": "è¨ˆæ•¸å™¨+1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "check-limit",
              "leftValue": "={{ $json.loop_retries }}",
              "rightValue": 3,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        224,
        192
      ],
      "id": "de36e996-4a02-42db-9284-dae75ab57fc7",
      "name": "æª¢æŸ¥é‡è©¦æ¬¡æ•¸"
    },
    {
      "parameters": {
        "chatId": "-1002729544083",
        "text": "=âœ… æ¨è–¦æ¨™é¡Œ (æˆåŠŸ)\n{{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}\n\nğŸ“Š è©•åˆ†: {{ $('é©—è­‰æ¨™é¡Œå“è³ª').item.json.output.total_score }}\nğŸ”„ åŸ·è¡Œæ¬¡æ•¸: {{ $json.loop_retries || 1 }}\n\n----- \nğŸ“° åŸå§‹æ–‡ç«  \n# {{ $('Webhook1').item.json.body[0].title }}\n# {{ $('Webhook1').item.json.body[1].title }}\n# {{ $('Webhook1').item.json.body[2].title }}\n# {{ $('Webhook1').item.json.body[3].title }}\n# {{ $('Webhook1').item.json.body[4].title }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "2200d94a-910c-49d9-b881-1851e6a56390",
      "name": "ç™¼é€æˆåŠŸé€šçŸ¥",
      "webhookId": "32c3fd40-ba35-400d-839b-8ecc90effcc9",
      "disabled": true
    },
    {
      "parameters": {
        "chatId": "-1002729544083",
        "text": "=âŒ æ¨è–¦æ¨™é¡Œ (å¤±æ•— - å·²é”3æ¬¡ä¸Šé™)\n\næœ€å¾Œä¸€æ¬¡ç”Ÿæˆ: {{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}\nè©•åˆ†: {{ $('é©—è­‰æ¨™é¡Œå“è³ª').item.json.output.total_score }}\n\n----- \nğŸ“° åŸå§‹æ–‡ç«  \n# {{ $('Webhook1').item.json.body[0].title }}\n# {{ $('Webhook1').item.json.body[1].title }}\n# {{ $('Webhook1').item.json.body[2].title }}\n# {{ $('Webhook1').item.json.body[3].title }}\n# {{ $('Webhook1').item.json.body[4].title }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        448,
        288
      ],
      "id": "fc1e3034-9251-48fe-9a96-43047b51effd",
      "name": "ç™¼é€å¤±æ•—é€šçŸ¥",
      "webhookId": "c415aff0-e30a-4c1f-a8cb-b71448325e09",
      "disabled": true
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"title\": \"{{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}\",\n  \"score\": {{ $('é©—è­‰æ¨™é¡Œå“è³ª').item.json.output.total_score }},\n  \"retries\": {{ $json.loop_retries || 1 }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        224,
        0
      ],
      "id": "627f5341-4e75-4b83-afed-e21af63b5873",
      "name": "å›æ‡‰æˆåŠŸ"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": false,\n  \"message\": \"å·²é”åˆ°æœ€å¤§é‡è©¦æ¬¡æ•¸(3æ¬¡)\",\n  \"last_title\": \"{{ $('ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ').item.json.output.title }}\",\n  \"last_score\": {{ $('é©—è­‰æ¨™é¡Œå“è³ª').item.json.output.total_score }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        672,
        288
      ],
      "id": "7d127d21-c7ef-4b4e-941b-edc080b03c6c",
      "name": "å›æ‡‰å¤±æ•—"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "newsletter-title-generator2",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1424,
        96
      ],
      "id": "c6626f66-bc05-45c7-a86b-45adb9e65579",
      "name": "Webhook1",
      "webhookId": "newsletter-title-generator"
    },
    {
      "parameters": {
        "jsCode": "// ä¿®æ­£å¾Œçš„ n8n Code ç¯€é» - è™•ç† Webhook æ–°èè³‡æ–™ï¼ˆç°¡åŒ–ç‰ˆï¼‰\n// åªè¼¸å‡º all_contents_full\n\n// å¾ webhook è¼¸å…¥ä¸­æå–æ–°èè³‡æ–™\nconst inputData = $input.all()[0].json;\n\n// æ ¹æ“šå¯¦éš›è³‡æ–™çµæ§‹ï¼Œæ–°èé™£åˆ—åœ¨ body å±¬æ€§ä¸­\nconst newsArray = inputData.body;\n\n// æª¢æŸ¥æ˜¯å¦æœ‰æ–°èè³‡æ–™\nif (!newsArray || !Array.isArray(newsArray) || newsArray.length === 0) {\n  return [{\n    json: {\n      all_contents_full: \"æœªæ‰¾åˆ°æ–°èè³‡æ–™ï¼Œè«‹ç¢ºèª webhook è³‡æ–™æ ¼å¼æ­£ç¢º\"\n    }\n  }];\n}\n\n// å½™æ•´æ–°èå…§å®¹ - æ ¼å¼ï¼šç·¨è™Ÿ. æ¨™é¡Œ\\nå…§å®¹\\n\\n\nlet aggregatedContent = '';\nfor (let i = 0; i < newsArray.length; i++) {\n  const news = newsArray[i];\n  const title = news.title || 'ç„¡æ¨™é¡Œ';\n  const content = news.content || 'ç„¡å…§å®¹';\n  \n  // å»ºç«‹æ ¼å¼åŒ–å…§å®¹ï¼šç·¨è™Ÿ. æ¨™é¡Œ\\nå…§å®¹\n  aggregatedContent += `${i + 1}. ${title}\\n${content}`;\n  \n  // å¦‚æœä¸æ˜¯æœ€å¾Œä¸€å‰‡æ–°èï¼Œæ·»åŠ å…©å€‹æ›è¡Œä½œç‚ºåˆ†éš”\n  if (i < newsArray.length - 1) {\n    aggregatedContent += '\\n\\n';\n  }\n}\n\n// è¼¸å‡ºçµæœ\nreturn [{\n  json: {\n    all_contents_full: aggregatedContent\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1264,
        96
      ],
      "id": "5ac8e776-d07a-4344-98e9-45bb7026e3b9",
      "name": "å½™æ•´è³‡æ–™"
    }
  ],
  "connections": {
    "åˆå§‹åŒ–è¨ˆæ•¸": {
      "main": [
        [
          {
            "node": "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ": {
      "main": [
        [
          {
            "node": "é©—è­‰æ¨™é¡Œå“è³ª",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Chat Model (ç”¢ç”Ÿ)": {
      "ai_languageModel": [
        [
          {
            "node": "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Output Parser (ç”¢ç”Ÿ)": {
      "ai_outputParser": [
        [
          {
            "node": "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "é©—è­‰æ¨™é¡Œå“è³ª": {
      "main": [
        [
          {
            "node": "åˆä½µè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Chat Model (é©—è­‰)": {
      "ai_languageModel": [
        [
          {
            "node": "é©—è­‰æ¨™é¡Œå“è³ª",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Output Parser (é©—è­‰)": {
      "ai_outputParser": [
        [
          {
            "node": "é©—è­‰æ¨™é¡Œå“è³ª",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "åˆä½µè³‡æ–™": {
      "main": [
        [
          {
            "node": "æ¨™é¡Œæ˜¯å¦é€šé",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¨™é¡Œæ˜¯å¦é€šé": {
      "main": [
        [
          {
            "node": "è¨ˆæ•¸å™¨+1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨ˆæ•¸å™¨+1": {
      "main": [
        [
          {
            "node": "æª¢æŸ¥é‡è©¦æ¬¡æ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æª¢æŸ¥é‡è©¦æ¬¡æ•¸": {
      "main": [
        [
          {
            "node": "ç™¼é€å¤±æ•—é€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ç”¢ç”Ÿé›»å­å ±æ¨™é¡Œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç™¼é€æˆåŠŸé€šçŸ¥": {
      "main": [
        [
          {
            "node": "å›æ‡‰æˆåŠŸ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç™¼é€å¤±æ•—é€šçŸ¥": {
      "main": [
        [
          {
            "node": "å›æ‡‰å¤±æ•—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "å½™æ•´è³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å½™æ•´è³‡æ–™": {
      "main": [
        [
          {
            "node": "åˆå§‹åŒ–è¨ˆæ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "38c65bb1-a61b-450e-b843-f81a340b2308",
  "triggerCount": 1,
  "shared": [
    {
      "createdAt": "2025-10-31T06:19:56.907Z",
      "updatedAt": "2025-10-31T06:19:56.907Z",
      "role": "workflow:owner",
      "workflowId": "YAUQSrZhZ8qeZ9DB",
      "projectId": "7zEhqNTzyMiFsXF6",
      "project": {
        "createdAt": "2025-07-09T03:38:25.411Z",
        "updatedAt": "2025-07-09T03:39:14.390Z",
        "id": "7zEhqNTzyMiFsXF6",
        "name": "jun yeh <jungu.ye@wanin.tw>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-07-09T03:38:25.416Z",
            "updatedAt": "2025-07-09T03:38:25.416Z",
            "userId": "d1b2f434-11f0-4091-b631-2379b0470044",
            "projectId": "7zEhqNTzyMiFsXF6",
            "user": {
              "createdAt": "2025-07-09T03:38:25.408Z",
              "updatedAt": "2025-10-31T09:17:04.851Z",
              "id": "d1b2f434-11f0-4091-b631-2379b0470044",
              "email": "jungu.ye@wanin.tw",
              "firstName": "jun",
              "lastName": "yeh",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-07-09T03:39:17.136Z",
                "personalization_survey_n8n_version": "1.102.0"
              },
              "settings": {
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "YAUQSrZhZ8qeZ9DB",
                "userActivated": true,
                "userActivatedAt": 1761902117305
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-10-31",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}